var A=Object.defineProperty;var k=Object.getOwnPropertySymbols;var V=Object.prototype.hasOwnProperty,B=Object.prototype.propertyIsEnumerable;var w=(t,e,r)=>e in t?A(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,$=(t,e)=>{for(var r in e||(e={}))V.call(e,r)&&w(t,r,e[r]);if(k)for(var r of k(e))B.call(e,r)&&w(t,r,e[r]);return t};import{m as b,a as x,o as i,c as n,F as f,r as g,b as _,d as C,t as I,e as p,w as N,v as O,f as P,g as u,h as m,i as h,j as S,k as F,l as D,n as K,p as M,q as T,s as j}from"./vendor.e68a9a3a.js";const q=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))o(d);new MutationObserver(d=>{for(const a of d)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function r(d){const a={};return d.integrity&&(a.integrity=d.integrity),d.referrerpolicy&&(a.referrerPolicy=d.referrerpolicy),d.crossorigin==="use-credentials"?a.credentials="include":d.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(d){if(d.ep)return;d.ep=!0;const a=r(d);fetch(d.href,a)}};q();var v=(t,e)=>{const r=t.__vccOpts||t;for(const[o,d]of e)r[o]=d;return r};const E={props:["card_id"],computed:b(["votes_for_card"]),methods:x(["add_vote","remove_vote"])},G={class:"votes"},U=["onClick"];function W(t,e,r,o,d,a){return i(),n("div",G,[(i(!0),n(f,null,g(t.votes_for_card(r.card_id),s=>(i(),n("div",{onClick:c=>t.remove_vote(s.id),class:"vote"},"\xD7",8,U))),256)),_("div",{class:"vote vote--add",onClick:e[0]||(e[0]=s=>t.add_vote(r.card_id))},"+")])}var z=v(E,[["render",W],["__scopeId","data-v-72aa9650"]]);const H={components:{Votes:z,FontAwesomeIcon:C},props:["card_id"],data(){return{editing:!1,new_name:""}},mounted(){this.card.name==null&&(this.editing=!0)},computed:{card(){return this.$store.getters.card_for_id(this.card_id)||{}}},methods:{save_card(){this.new_name!=""&&(this.editing=!1,this.$store.dispatch("update_card_name",{id:this.card_id,name:this.new_name}))},edit_card(){this.editing=!0,this.new_name=this.card.name},delete_card(){confirm("Are you sure you want to delete this card?")&&this.$store.dispatch("delete_card",this.card_id)}}},J={class:"card"},Q={key:0,class:"name"},R={key:1,class:"form"},X={key:2,class:"bottom-row"},Y={class:"card-buttons"};function Z(t,e,r,o,d,a){const s=m("font-awesome-icon"),c=m("Votes");return i(),n("div",J,[d.editing?p("",!0):(i(),n("p",Q,I(a.card.name),1)),d.editing?(i(),n("div",R,[N(_("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=l=>d.new_name=l),onKeyup:e[1]||(e[1]=P((...l)=>a.save_card&&a.save_card(...l),["enter"]))},null,544),[[O,d.new_name]]),_("button",{onClick:e[2]||(e[2]=(...l)=>a.save_card&&a.save_card(...l))},[u(s,{icon:"check"})])])):p("",!0),d.editing?p("",!0):(i(),n("div",X,[u(c,{card_id:r.card_id},null,8,["card_id"]),_("div",Y,[u(s,{class:"edit",onClick:a.edit_card,icon:"pencil"},null,8,["onClick"]),u(s,{class:"delete",onClick:a.delete_card,icon:"trash"},null,8,["onClick"])])]))])}var ee=v(H,[["render",Z],["__scopeId","data-v-0e82c608"]]);const te={props:["category_id"],components:{Card:ee},computed:$({category(){return this.$store.getters.category_for_id(this.category_id)}},b(["cards_for_category","category_for_id"])),methods:x(["add_card"])},re={class:"list"},de={class:"cards"};function ae(t,e,r,o,d,a){const s=m("Card");return i(),n("div",re,[_("h2",null,I(a.category.name),1),_("div",de,[(i(!0),n(f,null,g(t.cards_for_category(r.category_id),c=>(i(),h(s,{card_id:c.id},null,8,["card_id"]))),256))]),_("button",{onClick:e[0]||(e[0]=c=>t.add_card(r.category_id))},"Add card")])}var oe=v(te,[["render",ae],["__scopeId","data-v-5b19b1a6"]]);const se={components:{List:oe},computed:S({categories:t=>t.categories.all})},ie={class:"lists"};function ne(t,e,r,o,d,a){const s=m("List");return i(),n("div",ie,[(i(!0),n(f,null,g(t.categories,c=>(i(),h(s,{category_id:c.id},null,8,["category_id"]))),256))])}var ce=v(se,[["render",ne],["__scopeId","data-v-2bd7fd68"]]);const _e={setup(t){return(e,r)=>(i(),h(ce))}};var le={categories:[{id:1,name:"Good"},{id:2,name:"Bad"},{id:3,name:"Actions"},{id:4,name:"Ideas"}]},ue={state:()=>({all:le.categories}),mutations:{},actions:{},getters:{all_categories(){return state.all},category_for_id:t=>e=>t.all.find(r=>r.id==e)}},me={cards:[{id:1,category_id:1,name:"API finally pushed to prod"},{id:2,category_id:1,name:"Designer on board"},{id:3,category_id:2,name:"Wait too long for team to respond to Slack"},{id:4,category_id:2,name:"Sprint goal unclear"},{id:5,category_id:2,name:"Too many tickets waiting for PO review"},{id:6,category_id:3,name:"Plan daily huddle at 11:00"},{id:7,category_id:4,name:"Invite stakeholders to demos more often?"}]};class L{constructor(e){const r=this.get_current_ids(e),o=this.get_highest_number(r);this.id=this.create_next_id(o)}get_current_ids(e){return e.map(r=>r.id)}get_highest_number(e){return Math.max(...e)}create_next_id(e){return e+1}}var ve={state:()=>({all:me.cards}),mutations:{add(t,e){t.all.push(e)},update(t,e){const r=t.all.findIndex(o=>o.id==e.id);t.all[r]=e},delete(t,e){const r=t.all.findIndex(o=>o.id==e);t.all.splice(r,1)}},actions:{update_card_name({commit:t,state:e},r){let o=Object.assign({},e.all.find(d=>d.id==r.id));o.name=r.name,t("update",o)},delete_card({commit:t,state:e},r){t("delete",r)},add_card({commit:t,state:e},r){t("add",{id:new L(e.all).id,category_id:r,name:null})}},getters:{cards_for_category:t=>e=>t.all.filter(r=>r.category_id==e),card_for_id:t=>e=>t.all.find(r=>r.id==e)}},pe={votes:[{id:1,card_id:1,voter:"other_user"},{id:2,card_id:1,voter:"other_user"},{id:3,card_id:1,voter:"other_user"},{id:4,card_id:2,voter:"other_user"},{id:5,card_id:3,voter:"other_user"},{id:6,card_id:3,voter:"other_user"},{id:7,card_id:4,voter:"other_user"},{id:8,card_id:5,voter:"other_user"},{id:9,card_id:6,voter:"other_user"},{id:10,card_id:6,voter:"other_user"},{id:11,card_id:6,voter:"other_user"},{id:12,card_id:7,voter:"other_user"},{id:13,card_id:7,voter:"other_user"},{id:14,card_id:7,voter:"other_user"},{id:15,card_id:7,voter:"other_user"}]},fe={state:()=>({all:pe.votes}),mutations:{add(t,e){t.all.push(e)},remove(t,e){const r=t.all.findIndex(o=>o.id==e);t.all.splice(r,1)}},actions:{remove_vote({commit:t,state:e},r){t("remove",r)},add_vote({commit:t,state:e},r){t("add",{id:new L(e.all).id,card_id:r,voter:"current_user"})}},getters:{votes_for_card:t=>e=>t.all.filter(r=>r.card_id==e)}};const ge=!1;var he=F({modules:{categories:ue,cards:ve,votes:fe},strict:ge,plugins:[]});D.add(K,M,T);const y=j(_e);y.component("font-awesome-icon",C);y.use(he);y.mount("#app");
